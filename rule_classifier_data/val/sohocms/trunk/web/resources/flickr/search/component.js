function FlickrSearch() {    var uuid = widget.uuid;    var service = widget.service;    var target;    var topic = "";    if ((typeof widget.args == 'undefined') || typeof widget.args.topic == 'undfined') {        topic = "flickrSearch";    } else {		topic = widget.args.topic;	}    this.searchPhotos = function() {        target = encodeURIComponent(document.getElementById(uuid + "_target").value);        var flickrService = encodeURIComponent("http://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=06d3805b73897217be9e0b532c85b15e&tags=" + target);        var url = jmaki.webRoot + "/" + service + "?url=" + flickrService + "&xslURL=" + jmaki.webRoot + "/resources/xsl/flickr-search.xsl";        jmaki.doAjax({url: url, callback: function(req) { var _req=req; postProcess(_req);}});    }	    function postProcess(req) {        if (req.readyState == 4) {            if (req.status == 200) {                if (req.responseText != '') {                    var response = eval("(" + req.responseText + ")");		    jmaki.publish(topic, response.photos);                } else {	            alert("No Results for " + target);	        }            }        }    }}var flickrSearch = new FlickrSearch();// add to the instance map for later refernecejmaki.attributes.put(widget.uuid, flickrSearch);